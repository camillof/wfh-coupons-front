<mat-card class="example-card">
  <mat-card-header>
    <mat-card-title>Login</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form (ngSubmit)="login()" #loginForm="ngForm">
      <table cellspacing="0">
        <tr>
          <td>
            <mat-form-field >
              <input matInput placeholder="Username" [(ngModel)]="user.email" type="email" name="username" required>
            </mat-form-field>
          </td>
        </tr>
        <tr>
          <td>
            <mat-form-field >
              <input matInput placeholder="Password" [(ngModel)]="user.password" type="password" name="password" required>
            </mat-form-field>
          </td>
        </tr>
      </table>
    </form>
    
  </mat-card-content>
  <mat-card-actions>
    <button mat-raised-button (click)="login()" color="primary" 
    [disabled]="submitted || !user.email || !user.password || !loginForm.form.valid">
      Login
    </button>
    <mat-spinner [style.display]="submitted ? 'inline-block' : 'none'" [diameter]="30" style="margin-left: 1rem; vertical-align: middle;"></mat-spinner>
  </mat-card-actions>
</mat-card>
<mat-card *ngIf="showMessages.success && messages && messages.length > 0 && !submitted" style="color: green" >
  <div>
    <strong>Loggin In...</strong>
  </div>
  <div *ngFor="let message of messages">{{ message }}</div>
</mat-card>
<mat-card *ngIf="showMessages.error && errors && errors.length > 0 && !submitted" style="color: red">
  <div>
    <strong>Error</strong>
  </div>
  <div *ngFor="let error of errors">{{ error }}</div>
</mat-card>